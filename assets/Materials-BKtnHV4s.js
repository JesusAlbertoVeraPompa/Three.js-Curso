/* empty css             */import"./modulepreload-polyfill-BVSDYCMZ.js";import{C as e,S as t,T as n,b as r,h as i,l as a,n as o,t as s,v as c,w as l,x as u,y as d}from"./OrbitControls-AMGvWoJY.js";import{a as f,c as p,n as m,o as h,s as g,t as _}from"./three.core-B-PDBKKh.js";import v from"https://cdn.jsdelivr.net/npm/lil-gui@0.21/+esm";var y=class extends _{constructor(e){super(e),this.type=h}parse(e){let t=function(e,t){switch(e){case 1:throw Error(`THREE.HDRLoader: Read Error: `+(t||``));case 2:throw Error(`THREE.HDRLoader: Write Error: `+(t||``));case 3:throw Error(`THREE.HDRLoader: Bad File Format: `+(t||``));default:case 4:throw Error(`THREE.HDRLoader: Memory Error: `+(t||``))}},n=function(e,t,n){t||=1024;let r=e.pos,i=-1,a=0,o=``,s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));for(;0>(i=s.indexOf(`
`))&&a<t&&r<e.byteLength;)o+=s,a+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i?(!1!==n&&(e.pos+=a+i+1),o+s.slice(0,i)):!1},r=function(e){let r=/^#\?(\S+)/,i=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*FORMAT=(\S+)\s*$/,s=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,c={valid:0,string:``,comments:``,programtype:`RGBE`,format:``,gamma:1,exposure:1,width:0,height:0},l,u;for((e.pos>=e.byteLength||!(l=n(e)))&&t(1,`no header found`),(u=l.match(r))||t(3,`bad initial token`),c.valid|=1,c.programtype=u[1],c.string+=l+`
`;l=n(e),!1!==l;){if(c.string+=l+`
`,l.charAt(0)===`#`){c.comments+=l+`
`;continue}if((u=l.match(i))&&(c.gamma=parseFloat(u[1])),(u=l.match(a))&&(c.exposure=parseFloat(u[1])),(u=l.match(o))&&(c.valid|=2,c.format=u[1]),(u=l.match(s))&&(c.valid|=4,c.height=parseInt(u[1],10),c.width=parseInt(u[2],10)),c.valid&2&&c.valid&4)break}return c.valid&2||t(3,`missing format specifier`),c.valid&4||t(3,`missing image size specifier`),c},i=function(e,n,r){let i=n;if(i<8||i>32767||e[0]!==2||e[1]!==2||e[2]&128)return new Uint8Array(e);i!==(e[2]<<8|e[3])&&t(3,`wrong scanline width`);let a=new Uint8Array(4*n*r);a.length||t(4,`unable to allocate buffer space`);let o=0,s=0,c=4*i,l=new Uint8Array(4),u=new Uint8Array(c),d=r;for(;d>0&&s<e.byteLength;){s+4>e.byteLength&&t(1),l[0]=e[s++],l[1]=e[s++],l[2]=e[s++],l[3]=e[s++],(l[0]!=2||l[1]!=2||(l[2]<<8|l[3])!=i)&&t(3,`bad rgbe scanline format`);let n=0,r;for(;n<c&&s<e.byteLength;){r=e[s++];let i=r>128;if(i&&(r-=128),(r===0||n+r>c)&&t(3,`bad scanline data`),i){let t=e[s++];for(let e=0;e<r;e++)u[n++]=t}else u.set(e.subarray(s,s+r),n),n+=r,s+=r}let f=i;for(let e=0;e<f;e++){let t=0;a[o]=u[e+t],t+=i,a[o+1]=u[e+t],t+=i,a[o+2]=u[e+t],t+=i,a[o+3]=u[e+t],o+=4}d--}return a},a=function(e,t,n,r){let i=2**(e[t+3]-128)/255;n[r+0]=e[t+0]*i,n[r+1]=e[t+1]*i,n[r+2]=e[t+2]*i,n[r+3]=1},o=function(e,t,n,r){let i=2**(e[t+3]-128)/255;n[r+0]=m.toHalfFloat(Math.min(e[t+0]*i,65504)),n[r+1]=m.toHalfFloat(Math.min(e[t+1]*i,65504)),n[r+2]=m.toHalfFloat(Math.min(e[t+2]*i,65504)),n[r+3]=m.toHalfFloat(1)},s=new Uint8Array(e);s.pos=0;let c=r(s),l=c.width,u=c.height,d=i(s.subarray(s.pos),l,u),p,g,_;switch(this.type){case f:_=d.length/4;let e=new Float32Array(_*4);for(let t=0;t<_;t++)a(d,t*4,e,t*4);p=e,g=f;break;case h:_=d.length/4;let t=new Uint16Array(_*4);for(let e=0;e<_;e++)o(d,e*4,t,e*4);p=t,g=h;break;default:throw Error(`THREE.HDRLoader: Unsupported type: `+this.type)}return{width:l,height:u,data:p,header:c.string,gamma:c.gamma,exposure:c.exposure,type:g}}setDataType(e){return this.type=e,this}load(e,t,n,r){function i(e,n){switch(e.type){case f:case h:e.colorSpace=p,e.minFilter=g,e.magFilter=g,e.generateMipmaps=!1,e.flipY=!0;break}t&&t(e,n)}return super.load(e,i,n,r)}},b=class extends y{constructor(e){console.warn(`RGBELoader has been deprecated. Please use HDRLoader instead.`),super(e)}},x=new v,S=document.querySelector(`canvas.webgl`),C={width:window.innerWidth,height:window.innerHeight};window.addEventListener(`resize`,()=>{C.width=window.innerWidth,C.height=window.innerHeight,z.aspect=C.width/C.height,z.updateProjectionMatrix(),V.setSize(C.width,C.height),V.setPixelRatio(Math.min(window.devicePixelRatio,3))}),window.addEventListener(`dblclick`,()=>{document.fullscreenElement||document.webkitFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():S.requestFullscreen?S.requestFullscreen():S.webkitRequestFullscreen&&S.webkitRequestFullscreen()});var w={x:0,y:0};window.addEventListener(`mousemove`,e=>{w.x=e.clientX/C.width-.5,w.y=-(e.clientY/C.height-.5)});var T=new t,E=new l,D=E.load(`../../textures/door/color.jpg`),O=E.load(`../../textures/door/alpha.jpg`),k=E.load(`../../textures/door/ambientOcclusion.jpg`),A=E.load(`../../textures/door/height.jpg`),j=E.load(`../../textures/door/normal.jpg`),M=E.load(`../../textures/door/metalness.jpg`),N=E.load(`../../textures/door/roughness.jpg`),P=E.load(`../../textures/matcaps/1.png`);E.load(`../../textures/gradients/3.jpg`),D.colorSpace=u,P.colorSpace=u;var F=new c;F.metalness=.5,F.roughness=.5,F.map=D,F.aoMap=k,F.aoMapIntensity=1,F.displacementMap=A,F.displacementScale=.1,F.metalnessMap=M,F.roughnessMap=N,F.normalMap=j,F.normalScale.set(.5,.5),F.transparent=!0,F.alphaMap=O,x.add(F,`metalness`).min(0).max(1).step(1e-4),x.add(F,`roughness`).min(0).max(1).step(1e-4);var I=new i(new e(.5,16,16),F);I.position.x=-1.5;var L=new i(new r(1,1),F),R=new i(new n(.3,.2,16,32),F);R.position.x=1.5,T.add(I,L,R),new b().load(`../../textures/environmentMap/2k.hdr`,e=>{e.mapping=303,T.background=e,T.environment=e});var z=new d(75,C.width/C.height,.1,1e3);z.position.z=3,z.lookAt(I.position),z.lookAt(L.position),z.lookAt(R.position),T.add(z);var B=new s(z,S);B.enableDamping=!0;var V=new o({canvas:S});V.setSize(C.width,C.height);var H=new a,U=()=>{H.getElapsedTime(),B.update(),V.render(T,z),window.requestAnimationFrame(U)};U();